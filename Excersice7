//
// Source code recreated from a .class file by IntelliJ IDEA
// (powered by FernFlower decompiler)
//

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.Graphics;
import java.awt.GridLayout;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.SwingUtilities;

public class Excercise7 {
    static void main() {
    }

    public static class Factorial {
        public static void main(String[] args) {
            Scanner scanner = new Scanner(System.in);
            int num = -1;

            while(num < 0) {
                try {
                    System.out.print("Enter a non-negative number: ");
                    num = scanner.nextInt();
                    if (num < 0) {
                        System.out.println("Value must be greater than or equal to zero.");
                    }
                } catch (Exception var6) {
                    System.out.println("Invalid input. Please enter a valid integer.");
                    scanner.nextLine();
                }
            }

            scanner.nextLine();
            System.out.println("\nChoose a method:");
            System.out.println("1 → Iterative Factorial");
            System.out.println("2 → Recursive Factorial");
            System.out.print("Enter choice: ");
            switch (scanner.nextLine()) {
                case "1" -> System.out.println("Factorial = " + calculateFactorial(num));
                case "2" -> System.out.println("Factorial = " + factorial(num));
                default -> System.out.println("Invalid Response");
            }

            scanner.close();
        }

        static long calculateFactorial(int num) {
            long result = 1L;

            for(int i = 2; i <= num; ++i) {
                result *= (long)i;
            }

            return result;
        }

        static long factorial(int n) {
            return n != 0 && n != 1 ? (long)n * factorial(n - 1) : 1L;
        }

        public static class TextAnalyzerPro {
            public static void main(String[] args) {
                SwingUtilities.invokeLater(TextAnalyzerPro::createGUI);
            }

            private static void createGUI() {
                JFrame frame = new JFrame("Text Analyzer - Professional GUI");
                frame.setDefaultCloseOperation(3);
                frame.setSize(800, 600);
                frame.setLayout(new BorderLayout(10, 10));
                Color bgColor = new Color(30, 30, 30);
                final Color fgColor = new Color(230, 230, 230);
                Color btnColor = new Color(70, 130, 180);
                Color btnTextColor = Color.WHITE;
                frame.getContentPane().setBackground(bgColor);
                JTextArea textArea = new JTextArea();
                textArea.setLineWrap(true);
                textArea.setWrapStyleWord(true);
                textArea.setFont(new Font("Consolas", 0, 16));
                textArea.setBackground(new Color(50, 50, 50));
                textArea.setForeground(fgColor);
                JScrollPane scrollPane = new JScrollPane(textArea);
                scrollPane.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(fgColor), "Enter Your Text"));
                frame.add(scrollPane, "Center");
                JPanel resultPanel = new JPanel();
                resultPanel.setLayout(new GridLayout(6, 1, 5, 5));
                resultPanel.setBackground(bgColor);
                JLabel vowelsLabel = new JLabel("Vowels: 0");
                JLabel consonantLabel = new JLabel("Consonants: 0");
                JLabel punctuationLabel = new JLabel("Punctuation: 0");
                JLabel spaceLabel = new JLabel("Spaces: 0");
                JLabel totalLabel = new JLabel("Total Characters: 0");
                JLabel percentLabel = new JLabel("Percentages: 0% vowels, 0% consonants, 0% punctuation, 0% spaces");
                JLabel[] labels = new JLabel[]{vowelsLabel, consonantLabel, punctuationLabel, spaceLabel, totalLabel, percentLabel};

                for(JLabel lbl : labels) {
                    lbl.setForeground(fgColor);
                    lbl.setFont(new Font("Arial", 0, 14));
                    resultPanel.add(lbl);
                }

                frame.add(resultPanel, "North");
                JButton analyzeBtn = new JButton("Analyze Text");
                analyzeBtn.setBackground(btnColor);
                analyzeBtn.setForeground(btnTextColor);
                analyzeBtn.setFont(new Font("Arial", 1, 16));
                frame.add(analyzeBtn, "South");
                JPanel chartPanel = new JPanel() {
                    Map<String, Integer> data = new HashMap();

                    protected void paintComponent(Graphics g) {
                        super.paintComponent(g);
                        if (!this.data.isEmpty()) {
                            int total = this.data.values().stream().mapToInt(Integer::intValue).sum();
                            int startAngle = 0;
                            int i = 0;
                            Color[] colors = new Color[]{new Color(70, 130, 180), new Color(144, 238, 144), new Color(255, 99, 71), new Color(238, 238, 0)};

                            for(Map.Entry<String, Integer> entry : this.data.entrySet()) {
                                int arc = (int)Math.round((double)(Integer)entry.getValue() * (double)360.0F / (double)total);
                                g.setColor(colors[i % colors.length]);
                                g.fillArc(10, 10, this.getWidth() - 20, this.getHeight() - 20, startAngle, arc);
                                startAngle += arc;
                                ++i;
                            }

                            g.setFont(new Font("Arial", 1, 12));
                            int y = this.getHeight() - 60;
                            i = 0;

                            for(Map.Entry<String, Integer> entry : this.data.entrySet()) {
                                g.setColor(colors[i % colors.length]);
                                g.fillRect(10, y, 20, 20);
                                g.setColor(fgColor);
                                g.drawString((String)entry.getKey() + " (" + String.valueOf(entry.getValue()) + ")", 35, y + 15);
                                y += 25;
                                ++i;
                            }

                        }
                    }

                    public void updateData(Map<String, Integer> newData) {
                        this.data = newData;
                        this.repaint();
                    }
                };
                chartPanel.setPreferredSize(new Dimension(300, 300));
                chartPanel.setBackground(bgColor);
                frame.add(chartPanel, "East");
                analyzeBtn.addActionListener((e) -> {
                    String text = textArea.getText().toLowerCase();
                    int vowels = 0;
                    int consonants = 0;
                    int punctuation = 0;
                    int spaces = 0;
                    char[] vowelList = new char[]{'a', 'e', 'i', 'o', 'u'};

                    for(char c : text.toCharArray()) {
                        boolean isVowel = false;

                        for(char v : vowelList) {
                            if (c == v) {
                                ++vowels;
                                isVowel = true;
                                break;
                            }
                        }

                        if (Character.isLetter(c) && !isVowel) {
                            ++consonants;
                        } else if (c == ' ') {
                            ++spaces;
                        } else if (isPunctuation(c)) {
                            ++punctuation;
                        }
                    }

                    int total = text.length();
                    vowelsLabel.setText("Vowels: " + vowels);
                    consonantLabel.setText("Consonants: " + consonants);
                    punctuationLabel.setText("Punctuation: " + punctuation);
                    spaceLabel.setText("Spaces: " + spaces);
                    totalLabel.setText("Total Characters: " + total);
                    percentLabel.setText(String.format("Percentages: %.1f%% vowels, %.1f%% consonants, %.1f%% punctuation, %.1f%% spaces", (double)vowels * (double)100.0F / (double)Math.max(1, total), (double)consonants * (double)100.0F / (double)Math.max(1, total), (double)punctuation * (double)100.0F / (double)Math.max(1, total), (double)spaces * (double)100.0F / (double)Math.max(1, total)));
                    Map<String, Integer> chartData = new HashMap();
                    chartData.put("Vowels", vowels);
                    chartData.put("Consonants", consonants);
                    chartData.put("Punctuation", punctuation);
                    chartData.put("Spaces", spaces);
                    ((PieChartPanel)chartPanel).updateData(chartData);
                });
                frame.setVisible(true);
            }

            private static boolean isPunctuation(char c) {
                switch (Character.getType(c)) {
                    case 20:
                    case 21:
                    case 22:
                    case 23:
                    case 24:
                    case 29:
                    case 30:
                        return true;
                    case 25:
                    case 26:
                    case 27:
                    case 28:
                    default:
                        return false;
                }
            }

            static class PieChartPanel extends JPanel {
                Map<String, Integer> data = new HashMap();

                protected void paintComponent(Graphics g) {
                    super.paintComponent(g);
                    if (!this.data.isEmpty()) {
                        int total = this.data.values().stream().mapToInt(Integer::intValue).sum();
                        int startAngle = 0;
                        int i = 0;
                        Color[] colors = new Color[]{new Color(70, 130, 180), new Color(144, 238, 144), new Color(255, 99, 71), new Color(238, 238, 0)};

                        for(Map.Entry<String, Integer> entry : this.data.entrySet()) {
                            int arc = (int)Math.round((double)(Integer)entry.getValue() * (double)360.0F / (double)total);
                            g.setColor(colors[i % colors.length]);
                            g.fillArc(10, 10, this.getWidth() - 20, this.getHeight() - 20, startAngle, arc);
                            startAngle += arc;
                            ++i;
                        }

                        g.setFont(new Font("Arial", 1, 12));
                        int y = this.getHeight() - 60;
                        i = 0;

                        for(Map.Entry<String, Integer> entry : this.data.entrySet()) {
                            g.setColor(colors[i % colors.length]);
                            g.fillRect(10, y, 20, 20);
                            g.setColor(Color.WHITE);
                            g.drawString((String)entry.getKey() + " (" + String.valueOf(entry.getValue()) + ")", 35, y + 15);
                            y += 25;
                            ++i;
                        }

                    }
                }

                public void updateData(Map<String, Integer> newData) {
                    this.data = newData;
                    this.repaint();
                }
            }
        }
    }
}
